# Сканер структуры каталогов - DirectoryX

Утилита для сканирования структуры каталогов и создания отчетов в различных форматах, специально разработанная для подготовки многофайловых проектов для обработки Большими Языковыми Моделями (LLM).

## Назначение

Этот инструмент помогает разработчикам подготовить многофайловые проекты для эффективной обработки языковыми моделями путем:
- Создания четкого текстового представления структуры каталогов
- Объединения нескольких исходных файлов в единый документ с сохранением ссылок на пути
- Формирования подробных метаданных о файлах для предоставления контекста
- Создания выходных данных в форматах, легко воспринимаемых языковыми моделями

Языковые модели обычно лучше работают с консолидированной информацией, а не с отдельными файлами. Этот сканер создает единый контекст, сохраняющий взаимосвязи и структуру файлов, что позволяет моделям лучше понять архитектуру проекта.

## Возможности

- Рекурсивное сканирование каталогов
- Вычисление хеша SHA-256 для файлов
- Отчеты в формате Markdown с визуальным представлением структуры каталогов
- Детальные отчеты в формате YAML
- Единый Markdown-файл с содержимым всех текстовых файлов
- Фильтрация каталогов и файлов
- Имена файлов отчетов с отметкой времени

## Установка

Требуется Python 3.6 или выше.

1. Клонируйте репозиторий:
```bash
git clone https://github.com/username/directory-scanner.git
cd directory-scanner
```

2. Установите зависимости:
```bash
pip install pyyaml
```

## Использование

### Базовое использование

```bash
python directory_scanner.py /путь/к/каталогу
```

### Дополнительные параметры

- `--exclude` - исключить указанные каталоги из сканирования:
  ```bash
  python directory_scanner.py /путь/к/каталогу --exclude node_modules .git __pycache__
  ```

- `--no-content` - отключить создание файла с содержимым всех текстовых файлов:
  ```bash
  python directory_scanner.py /путь/к/каталогу --no-content
  ```
  
- `--exclude-ext` - исключить файлы с указанными расширениями:
  ```bash
  python directory_scanner.py /путь/к/каталогу --exclude-ext jpg png gif
  ```

### Результаты сканирования

Все отчеты сохраняются в каталоге `data` внутри текущего рабочего каталога. Имена файлов имеют формат:
- `directory_name_YYYY_MM_DD_HH_MM_SS_structure.md` - структура каталога в формате Markdown
- `directory_name_YYYY_MM_DD_HH_MM_SS_structure.yaml` - детальная структура в формате YAML
- `directory_name_YYYY_MM_DD_HH_MM_SS_content.md` - содержимое всех текстовых файлов

## Форматы отчетов

### Отчет в формате Markdown

Представляет структуру каталога в виде дерева с использованием ASCII-символов.

### Отчет в формате YAML

Содержит подробную информацию о каждом файле:
- Относительный путь
- Имя файла
- Дата последнего изменения
- SHA-256 хеш содержимого

### Отчет с содержимым

Включает содержимое всех текстовых файлов, отформатированное следующим образом:
- Заголовок с путём к файлу
- Содержимое в блоке кода с подсветкой синтаксиса
- Удаление избыточных пробелов и пустых строк

## Примеры использования

### Подготовка кода для анализа с помощью LLM

```bash
python directory_scanner.py /путь/к/проекту --exclude node_modules .git build dist
```

### Сканирование исходного кода проекта

```bash
python directory_scanner.py /путь/к/проекту --exclude node_modules .git __pycache__ .venv
```

### Сканирование документации

```bash
python directory_scanner.py /путь/к/документации --exclude-ext pdf docx
```

## Лицензия

[MIT](LICENSE)

## Автор

Yuri - wku@ukr.net